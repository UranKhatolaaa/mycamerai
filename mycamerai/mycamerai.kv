#:kivy 1.0.9
#:import CameraOpenCV camera_widget

<Capture>
    name: "Capture"
    MDBoxLayout:
        orientation: 'vertical'
        MDToolbar:
            title: "My CamerAI"
#           right_action_items: [["dots-vertical", lambda x: self.root.callback()], ["clock", lambda x: self.root.callback()]]
        CameraOpenCV:
            id: camera
            index:0
            allow_stretch: True
            keep_ratio: True
            play: True
            on_picture_taken: self.picture_taken(*args)
            Image:
                source: os.path.join(self.path, "./app/assets/play-circle.svg')
                pos: root.width / 2, root.height / 2

<Send>:
    name: "Send"
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        size: root.size
        Label:
            text: 'Envoi de photo à la PNord'
            size_hint_y: None
            height: '48dp'

        Widget:
            id: proxy
            Image:
                id: image
                size: self.texture_size
                allow_stretch: True
                keep_ratio: True
                center: self.size and proxy.center
                size: proxy.height, proxy.width

        TextInput:
            id: commentaire
            size_hint_y: None
            height: '48dp'
        Button:
            text: 'Envoyer photo'
            on_press: app.envoyer_photo()
            size_hint_y: None
            height: '48dp'

<MyPopup@Popup>:
    text: "Visages détéctés"
    Label:
        id: message
    Button:
        text: 'Ok'
        on_release: root.dismiss()
